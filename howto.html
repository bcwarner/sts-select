<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>How to use sts-select &#8212; sts-select  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="&lt;no title&gt;" href="main/scoring.html" />
    <link rel="prev" title="Overview" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="how-to-use-sts-select">
<h1>How to use <code class="docutils literal notranslate"><span class="pre">sts-select</span></code><a class="headerlink" href="#how-to-use-sts-select" title="Link to this heading">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>Small datasets often require feature selection to ensure generalizability, but such feature selection methods rely on the information provided in the dataset, which may not be enough to make good selections. This package allows you to use semantic textual similarity (STS) to improve feature selection in small datasets, which can work well if it’s easier to determine how semantically related features are in the absence of statistical data.</p>
<p>This package provides some Python tools to implement STS-based feature selection using fine-tuned models that you’ve trained either with <a class="reference external" href="https://www.sbert.net/">sentence_transformers</a> or <a class="reference external" href="https://radimrehurek.com/gensim/">Gensim</a>. You can install it with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">sts-select</span></code>.</p>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p>There are several steps to using this package. The first is to fine-tune a language model to produce STS scores. After that, you can use these scores to select features using either one of the selection methods provided or your own. From there you can apply this feature selection method to a dataset.</p>
<section id="fine-tuning-a-model">
<h3>Fine-Tuning a Model<a class="headerlink" href="#fine-tuning-a-model" title="Link to this heading">¶</a></h3>
<p>The first step is to fine-tune a model to produce STS scores. An example of how to obtain fine-tuning datasets for STS scores is can be found in <code class="docutils literal notranslate"><span class="pre">examples/ppsp/redcap_sts_scorers/data.py</span></code>. An example of how to train these models can be found in <code class="docutils literal notranslate"><span class="pre">examples/ppsp/redcap_sts_scorers/train.py</span></code>. We fine-tune our models using the <code class="docutils literal notranslate"><span class="pre">sentence_transformers</span></code> package and Gensim, but any other framework can be easily adapted to this library.</p>
</section>
<section id="scoring">
<h3>Scoring<a class="headerlink" href="#scoring" title="Link to this heading">¶</a></h3>
<p>Once you have a fine-tuned model, you can use it to score features, either by itself, or in combination with other scoring measures or models.</p>
<p>Here’s a brief snippet of what this looks like in brief. A comprehensive example can be found in <code class="docutils literal notranslate"><span class="pre">examples/ppsp/redcap/train.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipe</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
    <span class="p">(</span><span class="s2">&quot;selector&quot;</span><span class="p">,</span> <span class="n">MRMRBase</span><span class="p">(</span>
        <span class="n">SentenceTransformerScorer</span><span class="p">(</span>
            <span class="n">X</span><span class="p">,</span>
            <span class="n">y</span><span class="p">,</span>
            <span class="n">X_names</span><span class="o">=</span><span class="n">X_names</span><span class="p">,</span>
            <span class="n">y_names</span><span class="o">=</span><span class="n">y_names</span><span class="p">,</span>
            <span class="n">model_path</span><span class="o">=</span><span class="s2">&quot;bcwarner/PubMedBERT-base-uncased-sts-combined&quot;</span><span class="p">,</span> <span class="c1"># Example model.</span>
            <span class="n">cache</span><span class="o">=</span><span class="s2">&quot;your/cache/path&quot;</span><span class="p">,</span> <span class="c1"># Location to save STS scores for repeated runs.</span>
        <span class="p">),</span>
        <span class="n">n_features</span><span class="o">=</span><span class="mi">20</span>
    <span class="p">)),</span>
    <span class="p">(</span><span class="s2">&quot;classifier&quot;</span><span class="p">,</span> <span class="n">MLPClassifier</span><span class="p">(</span><span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="p">])</span>

<span class="n">pipe</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h3>
<p>We provide a refactored version of our code used in our findings in the <code class="docutils literal notranslate"><span class="pre">examples/ppsp</span></code> directory for a comprehensive example of how our package can be used.</p>
</section>
<section id="citing">
<h3>Citing<a class="headerlink" href="#citing" title="Link to this heading">¶</a></h3>
<p>If you use this code in your research, please cite the following preprint:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@misc</span><span class="p">{</span><span class="n">warner2023utilizing</span><span class="p">,</span>
      <span class="n">title</span><span class="o">=</span><span class="p">{</span><span class="n">Utilizing</span> <span class="n">Semantic</span> <span class="n">Textual</span> <span class="n">Similarity</span> <span class="k">for</span> <span class="n">Clinical</span> <span class="n">Survey</span> <span class="n">Data</span> <span class="n">Feature</span> <span class="n">Selection</span><span class="p">},</span>
      <span class="n">author</span><span class="o">=</span><span class="p">{</span><span class="n">Benjamin</span> <span class="n">C</span><span class="o">.</span> <span class="n">Warner</span> <span class="ow">and</span> <span class="n">Ziqi</span> <span class="n">Xu</span> <span class="ow">and</span> <span class="n">Simon</span> <span class="n">Haroutounian</span> <span class="ow">and</span> <span class="n">Thomas</span> <span class="n">Kannampallil</span> <span class="ow">and</span> <span class="n">Chenyang</span> <span class="n">Lu</span><span class="p">},</span>
      <span class="n">year</span><span class="o">=</span><span class="p">{</span><span class="mi">2023</span><span class="p">},</span>
      <span class="n">eprint</span><span class="o">=</span><span class="p">{</span><span class="mf">2308.09892</span><span class="p">},</span>
      <span class="n">archivePrefix</span><span class="o">=</span><span class="p">{</span><span class="n">arXiv</span><span class="p">},</span>
      <span class="n">primaryClass</span><span class="o">=</span><span class="p">{</span><span class="n">cs</span><span class="o">.</span><span class="n">CL</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">sts-select</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to use <code class="docutils literal notranslate"><span class="pre">sts-select</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fine-tuning-a-model">Fine-Tuning a Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scoring">Scoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#citing">Citing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="main/scoring.html"><code class="docutils literal notranslate"><span class="pre">BaseSTSScorer</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="main/scoring.html#sts_select.scoring.BaseScorer"><code class="docutils literal notranslate"><span class="pre">BaseScorer</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="main/scoring.html#sts_select.scoring.Chi2Scorer"><code class="docutils literal notranslate"><span class="pre">Chi2Scorer</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="main/scoring.html#sts_select.scoring.FScorer"><code class="docutils literal notranslate"><span class="pre">FScorer</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="main/scoring.html#sts_select.scoring.GensimScorer"><code class="docutils literal notranslate"><span class="pre">GensimScorer</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="main/scoring.html#sts_select.scoring.LinearScorer"><code class="docutils literal notranslate"><span class="pre">LinearScorer</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="main/scoring.html#sts_select.scoring.MIScorer"><code class="docutils literal notranslate"><span class="pre">MIScorer</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="main/scoring.html#sts_select.scoring.PearsonsRScorer"><code class="docutils literal notranslate"><span class="pre">PearsonsRScorer</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="main/scoring.html#sts_select.scoring.SentenceTransformerScorer"><code class="docutils literal notranslate"><span class="pre">SentenceTransformerScorer</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="main/gensim.html"><code class="docutils literal notranslate"><span class="pre">FastTextModel</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="main/gensim.html#sts_select.gensim.SkipgramModel"><code class="docutils literal notranslate"><span class="pre">SkipgramModel</span></code></a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="main/target_sel.html"><code class="docutils literal notranslate"><span class="pre">StdDevSelector</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="main/target_sel.html#sts_select.target_sel.TopNSelector"><code class="docutils literal notranslate"><span class="pre">TopNSelector</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="main/mrmr.html"><code class="docutils literal notranslate"><span class="pre">MRMRBase</span></code></a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Overview</a></li>
      <li>Next: <a href="main/scoring.html" title="next chapter">&lt;no title&gt;</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;Washington University in St. Louis.
      
      |
      <a href="_sources/howto.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>